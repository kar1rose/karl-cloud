<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="../assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>
        Login
    </title>

    <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport'/>
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css" href="../assets/css/CMaterial-Icons.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/fontawesome.all.min.css">
    <!-- CSS Files -->
    <link href="../assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet"/>
    <link href="../assets/demo/demo.css" rel="stylesheet"/>
</head>

<body class="off-canvas-sidebar">

<!--<div class="progress" style="margin-bottom:0">
<div class="progress-bar progress-bar-striped progress-bar-success" role="progressbar" style="width: 0%"
     aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
</div>-->
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top text-white">
    <div class="container">
        <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:;">Login Page</a>
        </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end">
            <ul class="navbar-nav">
                <li class="nav-item ">
                    <a href="register.html" class="nav-link">
                        <i class="material-icons">person_add</i>
                        Register
                    </a>
                </li>
                <li class="nav-item ">
                    <a href="../lock.html" class="nav-link">
                        <i class="material-icons">lock_open</i>
                        Lock
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- End Navbar -->
<div class="wrapper wrapper-full-page">
    <div class="page-header login-page header-filter" filter-color="black"
         style="background-image: url('../assets/img/login.jpg'); background-size: cover; background-position: top center;">
        <!--   you can change the color of the filter page using: data-color="blue | purple | green | orange | red | rose " -->
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-8 ml-auto mr-auto">
                    <form class="form" method="" action="">
                        <div class="card card-login card-hidden">
                            <div class="card-header card-header-rose text-center">
                                <h4 class="card-title">LOGIN</h4>
                                <!--第三方登录-->
                                <!--<div class="social-line">
                                <a href="#pablo" class="btn btn-just-icon btn-link btn-white">
                                    <i class="fa fa-facebook-square"></i>
                                </a>
                                <a href="#pablo" class="btn btn-just-icon btn-link btn-white">
                                    <i class="fa fa-twitter"></i>
                                </a>
                                <a href="#pablo" class="btn btn-just-icon btn-link btn-white">
                                    <i class="fa fa-google-plus"></i>
                                </a>
                            </div>-->
                            </div>
                            <div class="card-body ">
                                <!--<p class="card-description text-center">Or Be Classical</p>-->
                                <!--<span class="bmd-form-group">
                              <div class="input-group">
                                <div class="input-group-prepend">
                                  <span class="input-group-text">
                                    <i class="material-icons">face</i>
                                  </span>
                                </div>
                                <input type="text" class="form-control" placeholder="First Name...">
                              </div>
                            </span>-->
                                <span class="bmd-form-group">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="material-icons">account_box</i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" id="username" placeholder="用户名">
                                        </div>
                                    </span>
                                <span class="bmd-form-group">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="material-icons">lock_outline</i>
                                                </span>
                                            </div>
                                            <input type="password" class="form-control" id="password" placeholder="密码">
                                        </div>
                                    </span>
                            </div>
                            <div class="card-footer justify-content-center">
                                <a class="btn btn-rose btn-link btn-lg login">Sign In</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <footer class="footer">
            <div class="container">
                <nav class="float-left">
                    <ul>
                        <li>
                            <a href="https://www.creative-tim.com/license">
                                Licenses
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="copyright float-right">
                    &copy;
                    <script>document.write(new Date().getFullYear().toString())</script>
                    , made with <i class="material-icons">favorite</i> by
                    <a href="https://github.com/kar1rose" target="_blank">karl rose</a>
                </div>
            </div>
        </footer>
    </div>
</div>


<!--   Core JS Files   -->
<script src="../assets/js/core/jquery.min.js"></script>
<script src="../assets/js/core/popper.min.js"></script>
<script src="../assets/js/core/bootstrap-material-design.min.js"></script>
<script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
<!--  Notifications Plugin    -->
<script src="../assets/js/plugins/bootstrap-notify.js"></script>
<!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
<script src="../assets/js/material-dashboard.js?v=2.1.2" type="text/javascript"></script>
<!-- Material Dashboard DEMO methods, don't include it in your project! -->
<script src="../static/site.js"></script>

<script type="text/javascript">

    $("a.login").on("click", function () {
        const username = $("#username").val();
        const password = $("#password").val();
        let data = new FormData();
        data.append("username", username);
        data.append("password", password);
        data.append("grant_type", "password");
        requestFormData("", data, request_method.post, function (data) {
            if (data['code'] === '000000') {
                notice(notice_type['success'], "登录成功");
                window.location.href = "table.html";
            } else {
                notice(notice_type['rose'], data['msg']);
            }
        })
    });

    /*let process = 0;
    const task = setInterval(function () {
        console.log("increment ...");
        if (process < 100) {
            process += 100;
            $(".progress-bar").width(process + "%");
        } else {
            clearInterval(task);
            $(".progress").hide();
        }
    }, 1000);*/

    $(document).ready(function () {
        md.checkFullPageBackgroundImage();
        //动态展示登录框
        setTimeout(function () {
            $('.card').removeClass('card-hidden');
        }, 800);


    });
</script>
</body>

</html>